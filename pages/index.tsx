import axios from "axios";
import Head from "next/head";
import Link from "next/link";
import { motion } from "framer-motion";
import ContactForm from "../components/ContactForm";
import FrontpageCard from "../components/frontpageCard";
import Image from "next/image";

export default function Home({ data }: any) {
  return (
    <>
      <Head>
        <title>WebApp Homepage</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <section className="max-w-[76rem] mx-auto px-4">
        <div className="flex flex-col justify-center max-w-4xl py-64 mx-auto">
          <motion.h1
            className="font-bold text-5xl md:text-7xl"
            initial={{ opacity: 0, y: 50 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{
              duration: 0.4,
              delay: 0.1,
              ease: "easeInOut",
            }}
          >
            Build. Launch. Grow.
          </motion.h1>
          <motion.p
            className="text-xl md:text-2xl font-medium py-2 text-gray-500 max-w-xl"
            initial={{ opacity: 0, y: 50 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{
              duration: 0.4,
              delay: 0.2,
              ease: "easeInOut",
            }}
          >
            WebApp crafts award-winning mobile and web experiences driven by
            strategy, design and technology.
          </motion.p>
          <motion.div
            className="font-semibold text-lg md:text-2xl mt-5 flex items-center"
            initial={{ opacity: 0, y: 50 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{
              duration: 0.4,
              delay: 0.3,
              ease: "easeInOut",
            }}
          >
            <Link href={"/case-studies"}>
              <div className="flex items-center group">
                <h3>See Our Work</h3>
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="mx-1 text-gray-400 group-hover:text-black transition-all"
                >
                  <path
                    d="M11.0001 3.67157L13.0001 3.67157L13.0001 16.4999L16.2426 13.2574L17.6568 14.6716L12 20.3284L6.34314 14.6716L7.75735 13.2574L11.0001 16.5001L11.0001 3.67157Z"
                    fill="currentColor"
                  />
                </svg>
              </div>
            </Link>
          </motion.div>
        </div>
      </section>
      {data.map((item: any) => {
        return <FrontpageCard key={item.slug} item={item} />;
      })}

      <div className="flex items-center justify-center mt-32 mb-20">
        <div className="max-w-6xl bg-white px-4 py-20 sm:p-20 mx-4 rounded-md shadow-md">
          <h2 className="text-4xl">A proven track record</h2>
          <p className="text-xl sm:text-2xl text-gray-500 mt-3 mb-6">
            Non vero libero qui quam porro aut soluta illo et quisquam
            architecto qui accusamus tempora sit consectetur fugit ut fugiat
            enim. Id consequatur velit sit doloribus alias quo facere impedit.
            Ex similique enim in placeat doloremque vel internos dicta qui Quis
            ratione ut iusto maxime non assumenda velit 33 quos praesentium? Vel
            optio optio ut repudiandae.
          </p>
          <div className="flex flex-wrap sm:flex-nowrap justify-between items-center gap-4">
            <div className="max-w-[140px]">
              <Image
                src={"/award1.png"}
                alt={"test"}
                height={200}
                width={200}
              />
            </div>

            <div className="max-w-[140px]">
              <Image
                src={"/award2.png"}
                alt={"test"}
                height={200}
                width={200}
              />
            </div>
            <div className="max-w-[140px]">
              <Image
                src={"/award3.svg"}
                alt={"test"}
                height={200}
                width={200}
                className="object-fill"
              />
            </div>
            <div className="max-w-[140px]">
              <Image
                src={"/award4.png"}
                alt={"test"}
                height={200}
                width={200}
              />
            </div>
            <div className="max-w-[140px]">
              <Image
                src={"/award5.png"}
                alt={"test"}
                height={200}
                width={200}
              />
            </div>
          </div>
        </div>
      </div>

      <div className="flex flex-col justify-center items-center max-w-lg text-center mt-40 mb-10 mx-auto">
        <h3 className="font-bold text-4xl mb-3">Let&apos;s Talk</h3>
        <p className="text-xl text-gray-600 px-4">
          We&apos;ve worked with clients of all sizes, from enterprise brands to
          funded startups. Let&apos;s talk about your project and how we can
          help provide value.
        </p>
      </div>
      <ContactForm />
    </>
  );
}

export async function getStaticProps(context: any) {
  const response = await axios.get(
    `${process.env.NEXT_PUBLIC_URL}/api/case-studies?populate=*`
  );

  const rawData = response.data.data;
  const data = rawData.map((obj: any) => {
    return obj.attributes;
  });
  return {
    props: {
      data,
    },
  };
}
